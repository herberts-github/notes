[TOC]

# SQL 常用类型

## 数据类型选择

设计数据表时，数据类型该如何选择？

1. 第一步：确定大概类型（数字、字符串、日期时间等）
2. 确定具体类型（当选择出大概类型，进一步选择类型）

> 尽可能选择**满足业务**需求的**最小数据类型**
>  - 查询速度更快
>  - 省资源（磁盘、内存、CPU）
>  - 精度不同，消耗的资源不同
>
> 尽可能选择使用**简单数据类型**，整型比字符操作代价更低
>
> 尽可能**避免 NULL**，通过 `NOT NULL` 条件

### 数字类型

**整数类型**

| 类型 | 存储（byte） |
| --- | --- |
| TINYINT | 1 |
| SMALLINT | 2 |
| MEDIUMINT | 3 |
| INT/INTEGER | 4 |
| BIGINT | 8 |

**注意：**

- 存储值的范围越大，所需要得存储空间也会越大
- 可添加 `AUTO_INCREMENT` 自增约束条件
- `UNSIGNED` 属性：正数的上限提升约 1 倍 
- INTEGER(**11**)：显示宽度，显示的最大数字个数

**浮点类型**

| 类型 | 存储范围（byte） | 说明 |
| --- | --- | --- |
| FLOAT(M,N) | 4 | 单精度浮点数 |
| DOUBLE(M, N) | 8 | 双精度浮点数 |
| DECIMAL(M, N) | M+2 | 定点数，更精确表示 |

- M：精度（总共有多少位数）, N：标度（小数位数）
- 如果超过精度范围，存储时会 **四舍五入**
- 定点数 **DECIMAL** 以字符串形式存储

### 字符类型

| 类型 | 长度（字符） | 说明 |
| --- | --- | --- |
| CHAR | 255 | 固定长度 |
| VARCHAR | 65535 | 可变长度 |
| TINYTEXT | 255 |
| TEXT | 65535 |
| MEDIUMTEXT | 1600万 |
| LONGTEXT | 42亿 |

- UTF-8 编码： 一个字符 = 3 个字节

### 日期时间类型

| 类型 | 存储（字节） | 说明 |
| --- | --- | --- |
| DATE | 3 | 日期（1000-01-01 ~ 9999-12-3） |
| TIME | 3 | 时间（-838:59:59 ~ 838:59:59） |
| YEAR | 1 | 年份（1901~2155） | 
| DATETIME | 8 | 日期时间 |
| TIMESTAMP | 4 | 时间戳（UTC 1970-01-01 00:00:01 ~ 2038-01-19 03:14:07） |

- UTC 时间：世界统一时间，国际标准时间

### 其他类型

| 类型 | 说明 |
| --- | --- |
| BOOLEAN | 对应 TINYINIT，1 表示 True，0 表示 False |
| ENUM | 枚举类型，代替字符串类型（单选），最多允许 65535 个成员 |
| SET | 字符串，可以有 0 个或多个值（多选），最多允许 64 个成员，支持自动去重 |
| BLOB | 存储的二进制数据 |